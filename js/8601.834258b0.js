"use strict";(self["webpackChunkwebide"]=self["webpackChunkwebide"]||[]).push([[8601],{8601:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});a(14603),a(47566),a(98721);var n=a(56768),o=a(32854);const l=async e=>await o.A.post("upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>(console.log("上传成功",e.data),e.data))).catch((e=>{console.error("上传失败",e)})),s=async e=>await o.A.get("uploads/"+e,{responseType:"blob"});var r=a(90144);const c={class:"container"},u=["src"];var i=(0,n.pM)({__name:"debugView",setup(e){const t=(0,r.KR)("");var a;const o=e=>{a=e.target.files[0],console.log(a)},i=e=>{e.preventDefault();var n=new FormData;n.append("file",a),l(n).then((e=>{console.log("上传成功",e),e&&s(e).then((e=>{const a=new Blob([e.data]);t.value=URL.createObjectURL(a),console.log(t)}))})).catch((e=>{console.error("上传失败",e)}))};return(e,a)=>{const l=(0,n.g2)("a-button");return(0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("form",null,[(0,n.Lk)("input",{type:"file",onChange:a[0]||(a[0]=e=>o(e))},null,32),(0,n.bF)(l,{onClick:a[1]||(a[1]=e=>i(e))},{default:(0,n.k6)((()=>a[2]||(a[2]=[(0,n.eW)("submit")]))),_:1})]),(0,n.Lk)("img",{src:t.value,alt:"display"},null,8,u)])}}});const p=i;var d=p}}]);
//# sourceMappingURL=8601.834258b0.js.map